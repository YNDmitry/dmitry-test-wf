"use strict";(()=>{var A=()=>{let r=document.querySelectorAll("[book-now-button]");console.log("\u041D\u0430\u0439\u0434\u0435\u043D\u043E \u043A\u043D\u043E\u043F\u043E\u043A:",r.length),r.length&&r.forEach(e=>{let s=e.getAttribute("book-now-button"),c=e.getAttribute("price-info"),n=document.body.getAttribute("this-is-a-city-page");if(console.log("\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u0433\u043E\u0440\u043E\u0434:",n),s){let l=s.split(";").filter(t=>t.trim()!=="");console.log("\u0421\u043F\u0438\u0441\u043E\u043A \u043D\u0435\u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u044B\u0445 \u0441\u0441\u044B\u043B\u043E\u043A:",l),l.forEach(t=>{console.log("\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0441\u0441\u044B\u043B\u043A\u0438:",t);let i=t.split("@")[0],o=t.split("@")[1];console.log("\u0427\u0430\u0441\u0442\u044C \u043F\u0435\u0440\u0432\u0430\u044F (\u0433\u043E\u0440\u043E\u0434):",i),console.log("\u0427\u0430\u0441\u0442\u044C \u0432\u0442\u043E\u0440\u0430\u044F (\u0441\u0441\u044B\u043B\u043A\u0430):",o),i===n&&(e.setAttribute("href",o),e.classList.remove("hide"),console.log("\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D href:",o,"\u0434\u043B\u044F \u043A\u043D\u043E\u043F\u043A\u0438:",e))})}else console.warn("\u0410\u0442\u0440\u0438\u0431\u0443\u0442 book-now-button \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u043A\u043D\u043E\u043F\u043A\u0438:",e);if(c){let l=c.split(";").filter(t=>t.trim()!=="");console.log("\u0421\u043F\u0438\u0441\u043E\u043A \u043D\u0435\u043E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u044B\u0445 \u0446\u0435\u043D:",l),l.forEach(t=>{let i=t.split("@")[0],o=t.split("@")[1];if(console.log("\u0427\u0430\u0441\u0442\u044C \u043F\u0435\u0440\u0432\u0430\u044F (\u0433\u043E\u0440\u043E\u0434):",i),console.log("\u0427\u0430\u0441\u0442\u044C \u0432\u0442\u043E\u0440\u0430\u044F (\u0446\u0435\u043D\u0430):",o),i===n){e.setAttribute("data-price",o);let u=e.closest(".exp-slider_title-wrapper")?.querySelector("[data-price-text]");u?(u.setAttribute("data-price-text",o),u.innerText=o,console.log("\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0430 \u0446\u0435\u043D\u0430:",o,"\u0432 \u0440\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u043E\u043C \u0431\u043B\u043E\u043A\u0435:",u)):console.log("\u0420\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u0441 data-price-text \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D")}})}else console.warn("\u0410\u0442\u0440\u0438\u0431\u0443\u0442 price-info \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u043A\u043D\u043E\u043F\u043A\u0438:",e)})};var C=()=>{let r=0;$(".burger-button").click(function(){r===0?(r++,$("body").css("overflow","hidden")):(r--,$("body").css("overflow","visible"))}),$(".burger-button").find("a").click(function(){r--,$("body").css("overflow","visible")})};var q=()=>{let r="new york",e=sessionStorage.getItem("savedCity")?sessionStorage.getItem("savedCity")?.replace("-"," "):null;function s(){let d=window.location.pathname.match(/(?:\/city\/|\/|-)(new-york|los-angeles|chicago|houston)$/i);return d?d[1].toLowerCase().replace("-"," "):null}function c(){let a=document.querySelectorAll("[location-dropdown_button]"),d=Array.from(a).find(f=>f.textContent?.toUpperCase()===r.toUpperCase());i(d,r)}async function n(){try{let d=await(await fetch("https://ipinfo.io?token=e244e6770c04f8")).json(),{city:f}=d;if(l(f),e){t(e);return}let g=["new york","los angeles","chicago","houston"].find(w=>w.toLowerCase()===f.toLowerCase());if(g){t(g);let w=document.querySelector("[city-guess]");w&&(w.textContent=g)}else c()}catch{c()}}function l(a){sessionStorage.getItem("cityFromApi")||sessionStorage.setItem("cityFromApi",a)}function t(a){let d=document.querySelectorAll("[location-dropdown_button]"),f=Array.from(d).find(h=>h.textContent?.toUpperCase()===a.toUpperCase());f?i(f,a):c()}function i(a,d){a&&(document.querySelectorAll("[city-dropdown-name-placeholder]").forEach(f=>{f.textContent=d,f.classList.remove("opacity-0")}),document.querySelectorAll("[location-dropdown]").forEach(f=>{f.classList.remove("opacity-0")}))}if(e)t(e);else{let a=s();document.querySelector("[city-detector-tip]")?.classList.remove("hide");let d=document.querySelector("[city-guess]");d&&(d.textContent=r),a?t(a):n()}let o=document.querySelectorAll("[nav-home-link]"),u=document.querySelectorAll("[home-page-city-links]"),p=document.querySelector("[city-detector-tip]");if(p){let a=document.querySelector('[is-your-city-new-york="yes"]'),d=document.querySelector('[is-your-city-new-york="no"]'),f=document.querySelector("[city-detector-tip-close]");[a,d,f].forEach(h=>{h?.addEventListener("click",()=>p.classList.add("hide"))}),a?.addEventListener("click",()=>{let h=document.querySelector("[city-guess]");if(h){let g=h?.textContent?.toLowerCase().replace(" ","-");g&&(sessionStorage.setItem("savedCity",g),t(g),window.location.href="/city/"+g)}}),d?.addEventListener("click",()=>{document.querySelector("[location-dropdown_list")?.classList.add("w--open")})}o.forEach(a=>{a.addEventListener("click",d=>{d.preventDefault();let f=/(?:\/city\/|\/|-)(new-york|los-angeles|chicago|houston)$/i,g=window.location.pathname.match(f),w=e||r;if(g)window.location.href=`/city/${w.replace(" ","-")}`;else{let b=a.getAttribute("href");window.location.href=b||"#"}})}),u.forEach(a=>{a.addEventListener("click",function(){m(a)})}),document.querySelectorAll("[location-dropdown_button]").forEach(a=>{a.addEventListener("click",d=>{d.preventDefault(),m(a)})});function m(a){let d=a.getAttribute("location-dropdown_button")||a.getAttribute("home-page-city-links"),f=window.location.pathname,h=window.location.hash;if(d){sessionStorage.setItem("savedCity",d);let g=/individual-art-experiences-/i.test(f),w=/events-/i.test(f),b=/dates-night-/i.test(f),S=f,E=/-(new-york|los-angeles|chicago|houston)$/i,L=f.match(E);L&&L[1].toLowerCase().replace("-"," ")!==d.toLowerCase()?S=f.replace(E,`-${d.replace(" ","-")}`):!L&&!(g||w||b)&&(S=`/city/${d.replace(" ","-")}`),i(a,d),`${S}${h}`!==window.location.href&&(window.location.href=`${S}${h}`)}else console.warn("City name not found on the button.")}};var x=()=>{document.querySelectorAll("[menu-contact]").forEach(r=>{r.addEventListener("click",e=>{e.preventDefault();let s=document.getElementById("contacts");s?s.scrollIntoView({behavior:"smooth"}):window.location.href="/about#contacts"})})};var _=()=>{let r=["USA","usa","United States of America","united states of america","United States","united states","UNITED STATES"];document.querySelectorAll("[data-country]").forEach(s=>{let c=()=>{let n=document.querySelector(`[data-state="${s.dataset.country}"]`),l=document.querySelector(`[data-state-dropdown="${s.dataset.country}"]`);if(!n||!l){console.error("State input or dropdown not found for:",s.dataset.country);return}r.includes(s.value)?(l.style.display="block",n.required=!0):(l.style.display="none",n.required=!1)};c(),s.addEventListener("input",c),s.addEventListener("change",c)})};var k=()=>{let r="no-city",e=document.body.getAttribute("this-is-a-city-page");if(e)r=e;else if(typeof sessionStorage<"u"){let c=sessionStorage.getItem("savedCity");if(c)r=c;else{let l=window.location.href.toLowerCase(),t=["new-york","los-angeles","chicago","houston"];for(let i of t)if(l.includes(i)){r=i.replace("-"," ");break}}let n=sessionStorage.getItem("cityFromApi");!c&&n&&(r=n)}else console.warn("localStorage \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F \u0434\u0430\u043D\u043D\u044B\u043C \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043E\u043C.");let s=document.querySelectorAll("form");s.length>0&&s.forEach(function(c){let n=c.querySelector('input[name="current-city"]');n||(n=document.createElement("input"),n.type="text",n.classList.add("hide"),n.name="current-city",c.appendChild(n)),n.value=r})};var T=()=>{if(window.location.pathname.replace(/\/$/,"")!=="/dates")return;let e="new york",s=["new york","los angeles","chicago","houston"];function c(t){return t.trim().toLowerCase().replace(/\s+/g,"-")}function n(t){let o=`/dates-night-${c(t)}`;window.location.pathname.replace(/\/$/,"")!==o&&(window.location.href=o)}let l=sessionStorage.getItem("savedCity");if(l){n(l);return}console.log("[Redirect script] \u041D\u0435\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u043E\u0433\u043E \u0433\u043E\u0440\u043E\u0434\u0430, \u0434\u0435\u043B\u0430\u0435\u043C fetch..."),fetch("https://ipinfo.io?token=e244e6770c04f8").then(t=>t.json()).then(t=>{let i=t.city;if(!i){n(e);return}let o=s.find(u=>u.toLowerCase()===i.toLowerCase());o?(sessionStorage.setItem("savedCity",o),n(o)):n(e)}).catch(t=>{console.error("[Redirect script] \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 fetch:",t),n(e)})};var P=()=>{let r=document.querySelector("[catalog-page-city]");if(r){let e=r.getAttribute("catalog-page-city");document.querySelectorAll("[exp-collection-item]").forEach(c=>{function n(){let o=c.querySelector("[exp-columns_slider-header-meta-item=best]"),p=c.getAttribute("value-best").split(";");p.forEach((y,m)=>{y===""&&p.splice(m,1)}),p.forEach(y=>{y===e&&o.classList.remove("hide")})}function l(){let o=document.querySelectorAll("[icon-age]"),u=c.querySelector("[exp-columns_slider-header-meta-item=age]"),y=c.getAttribute("value-age").split(";");y.forEach((m,a)=>{m===""&&y.splice(a,1)}),y.forEach(m=>{let a=m.split("@");a[0]===e&&o.forEach(d=>{let f=d.getAttribute("icon-age");if(a[1]===f){let h=d,g=u,w=document.createElement("div");w.innerHTML=h.innerHTML,g.appendChild(w)}})})}function t(){let o=c.querySelector("[exp-columns_slider-header-meta-item=price]"),p=c.getAttribute("value-price").split(";");p.forEach((y,m)=>{y===""&&p.splice(m,1)}),p.forEach(y=>{let m=y.split("@");if(m[0]===e){let a=m[0],d=m[1];if(a===e){o.classList.remove("hide");let f=o.querySelector('[exp-columns_slider-header-meta-item="price-text-value"]');f.textContent=d}}})}function i(){let o=c.querySelector("[exp-columns_slider-header-meta-item=count]"),p=c.getAttribute("value-count").split(";");p.forEach((y,m)=>{y===""&&p.splice(m,1)}),p.forEach(y=>{let m=y.split("@");if(m[0]===e){let a=m[0],d=m[1];if(a===e){o.classList.remove("hide");let f=o.querySelector('[exp-columns_slider-header-meta-item="count-text-value"]');f.textContent=d}}})}n(),l(),t(),i()})}};var I=()=>{let r=document.querySelectorAll("[this-is-a-city-page]");if(r.length){let e=sessionStorage.getItem("savedCity");if(!e){let c=window.location.pathname.toLowerCase().match(/(?:\/city\/|\/|-)(new-york|los-angeles|chicago|houston)(?=$|\/)/i);e=c?c[1].toLowerCase():null,c&&sessionStorage.setItem("savedCity",c[1].toLowerCase())}r.forEach(s=>{s.querySelectorAll("[exp-variants-dropdown]").forEach(n=>{n.querySelectorAll("[exp-dropdown-button-list-new]").forEach(t=>{t.querySelectorAll("svg").forEach(u=>u.classList.add("hide")),t.querySelectorAll("[exp-city-dropdown]").forEach(u=>{let p=u.querySelector("[exp-city-dropdown-list]");p&&p.classList.add("hide"),u.addEventListener("click",function(){e?u.querySelectorAll("a").forEach(m=>{m.getAttribute("exp-city-dropdown-city-slug")===e&&(window.location.href=m.href)}):u.querySelectorAll("a").forEach(y=>{y.addEventListener("click",()=>{window.location.href=y.href})})},{once:!0})})})})})}};var M=()=>{if(document.querySelectorAll("[abs-link-for-append]").length){let e=document.querySelector("[abs-link-exp-individual]"),s=document.querySelector("[abs-link-exp-group]"),c=document.querySelectorAll("[exp-slider-individual]"),n=document.querySelectorAll("[exp-slider-group]"),l=document.querySelector("[page-city-current]").getAttribute("page-city-current");c.forEach(t=>{let i=e.cloneNode(!0);i.classList.remove("hide");let o=i.getAttribute("href")+"#"+t.getAttribute("exp-name");i.setAttribute("href",o),t.appendChild(i)}),n.forEach(t=>{let i=s.cloneNode(!0);i.classList.remove("hide");let o=i.getAttribute("href")+"#"+t.getAttribute("exp-name");i.setAttribute("href",o),t.appendChild(i)})}};var V=()=>{let r=document.querySelectorAll("[video-on-hover]");r.length&&r.forEach(e=>{e.isPlaying=!1,e.videoLoaded=!1;let s=t=>{let i=t.querySelector("[put-src-here]");if(i){let p=i.getAttribute("put-src-here");p&&i.getAttribute("src")!==p&&i.setAttribute("src",p)}let o=t.querySelector("[abs-video-for-hover-hided]");o&&o.classList.remove("hide");let u=t.querySelector("video");if(u)if(t.videoLoaded)t.isPlaying||u.play().then(()=>{t.isPlaying=!0}).catch(p=>{console.error("Error playing video:",p)});else{let p=()=>{t.videoLoaded=!0,u.play().then(()=>{t.isPlaying=!0}).catch(y=>{console.error("Error playing video:",y)}),u.removeEventListener("canplaythrough",p)};u.addEventListener("canplaythrough",p),u.load()}},c=t=>{let i=t.querySelector("[abs-video-for-hover-hided]");i&&i.classList.add("hide");let o=t.querySelector("video");o&&t.isPlaying&&(o.pause(),t.isPlaying=!1)},n=()=>{window.innerWidth>=992&&s(e)},l=()=>{window.innerWidth>=992&&c(e)};if(e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",l),window.innerWidth<992){let t=e.closest(".swiper-slide");if(t){let i=new MutationObserver(o=>{for(let u of o)u.type==="attributes"&&u.attributeName==="class"&&(t.classList.contains("swiper-slide-active")?s(e):c(e))});i.observe(t,{attributes:!0}),t.classList.contains("swiper-slide-active")&&s(e),e.mutationObserver=i}}})};var H=()=>{let r=document.querySelectorAll("[catalog-item-exp]");r.length&&r.forEach(e=>{let s=e.querySelector("[catalog-item-exp-gallery-item]"),c=e.querySelector("[ctatalog-video]"),n=e.querySelector("[abs-video-for-hover]"),l=e.querySelector("[put-src-here]");s.appendChild(c);let t=function(){if(window.innerWidth>=992){if(l){let u=l.getAttribute("put-src-here");u&&l.setAttribute("src",u)}n&&n.classList.remove("hide");let o=n.querySelector("video");if(o){let u=o.cloneNode(!0);o.parentNode.replaceChild(u,o),o=u,o.addEventListener("canplay",()=>{o.play().catch(p=>{})}),o.addEventListener("play",()=>{}),o.addEventListener("pause",()=>{}),o.addEventListener("timeupdate",function(){}),o.addEventListener("canplaythrough",()=>{})}}},i=function(){if(window.innerWidth>=992){n&&n.classList.add("hide");let o=n.querySelector("video");o&&o.pause()}};s.addEventListener("mouseover",t),s.addEventListener("mouseout",i)})};var W=()=>{let r=document.querySelectorAll(".section_faq");r.length&&r.forEach(e=>{e.querySelectorAll(".cl-i_faq").length||e.classList.add("hide")})};var D=()=>{let r=document.getElementById("current-year");r&&(r.innerText=String(new Date().getFullYear()))};var v=()=>{document.querySelectorAll('[form-custom-dropdwn="component"]').length&&document.querySelectorAll('[form-custom-dropdwn="component"]').forEach(e=>{e.addEventListener("change",s=>{if(s.target.type==="radio"){let n=s.target.nextElementSibling;n&&n.getAttribute("form-custom-dropdwn")!=="radio-label"&&(n=null);let l=e.querySelector('[form-custom-dropdwn="placeholder"]');n&&l&&(l.textContent=n.textContent,l.classList.add("label-is-active")),n&&n.classList.add("label-is-active"),e.querySelectorAll('[form-custom-dropdwn="radio-label"]').forEach(i=>{i!==n&&i.classList.remove("label-is-active")})}})})};v();function F(){let r=document.querySelector('[data-menu-link="gift-card"]');r&&r.addEventListener("click",e=>{e.preventDefault();let n=`/city/${(sessionStorage.getItem("savedCity")||"new-york").replace(" ","-")}#gift-card`;window.location.href=n})}var U=()=>{let r=document.querySelector(".menu-standart-trigger-city");if(r){let c=function(){r.getBoundingClientRect().bottom<0?document.querySelectorAll("[toggle-class-here-selector]").forEach(i=>{let o=i.getAttribute("toggle-class-here-selector");o&&i.classList.remove(o)}):document.querySelectorAll("[toggle-class-here-selector]").forEach(i=>{let o=i.getAttribute("toggle-class-here-selector");o&&i.classList.add(o)})},n=function(){c()};var e=c,s=n;c(),window.addEventListener("scroll",n)}};var N=()=>{let r=document.querySelector(".menu-standart-trigger");if(r){let c=function(){r.getBoundingClientRect().bottom<0?document.querySelectorAll("[toggle-class-here]").forEach(i=>{let o=i.getAttribute("toggle-class-here");o&&i.classList.add(o)}):document.querySelectorAll("[toggle-class-here]").forEach(i=>{let o=i.getAttribute("toggle-class-here");o&&i.classList.remove(o)})},n=function(){c()};var e=c,s=n;c(),window.addEventListener("scroll",n)}};var R=()=>{let r=document.querySelector("[data-burger-button]"),e=document.querySelectorAll("[data-menu-item]"),s=document.querySelector("[data-menu]"),c=992,n=()=>{window.innerWidth<=c&&s&&s.classList.toggle("open")};r?.addEventListener("click",n),e.forEach(l=>{l.addEventListener("click",()=>{window.innerWidth<=c&&r?.click()})}),window.addEventListener("resize",()=>{window.innerWidth>c&&s?.classList.contains("open")&&s.classList.remove("open")})};var O=()=>{let r=document.querySelector(".exp-columns_inner"),e=document.querySelector(".dropdown-placeholder.is-exp-filter.is-new");if(r&&e.textContent!="All"&e.textContent!="ALL"){let c=r.querySelector(".location-dropdown_list.is-form").querySelectorAll(".w-dyn-item"),n=c[0].cloneNode(!0),l=c[0].parentNode;n.querySelector("a").textContent="ALL";let t=window.location.pathname,i=t.substring(0,t.lastIndexOf("/"));n.querySelector("a").setAttribute("href",i),l.insertBefore(n,c[0])}};var B=()=>{let r=document.querySelectorAll("[colored-slider]");r.length&&r.forEach(e=>{let c=e.getAttribute("colored-slider").split(",").map(l=>l.trim());e.querySelectorAll(".swiper-slide").forEach((l,t)=>{let i=t%c.length;l.style.backgroundColor=c[i]})})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{q(),v(),P(),B(),M(),V(),H(),N(),U(),I(),W(),A(),O(),_(),D(),F(),R(),k(),C(),x(),T()});})();
